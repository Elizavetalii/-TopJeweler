{% extends "base.html" %}
{% load static %}

{% block title %}Каталог — Lumiere Secrète{% endblock %}

{% block extra_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'catalog/catalog.css' %}">
{% endblock %}

{% block extra_js %}
<script src="{% static 'catalog/catalog.js' %}" defer></script>
{% endblock %}

{% block hero %}
<section class="catalog-hero">
    <div class="hero-content">
        <p class="eyebrow">Lumiere Secrète</p>
        <h1>Витрина</h1>
        <p>Фильтры как в любимых маркетплейсах и избранное.</p>
        <button class="btn-primary filters-toggle mobile-only" data-filters-toggle>Фильтры</button>
    </div>
</section>
{% endblock %}

{% block content %}
<div class="catalog-layout">
    <aside class="filters-panel" data-filters-panel>
        {% include "catalog/partials/filters_panel.html" %}
    </aside>

    <section class="products-area">
        <div class="products-toolbar" data-toolbar>
            <div class="toolbar-info">
                <p class="eyebrow">Сортировка</p>
                <select name="sort" form="catalog-filter-form" id="sortSelect">
                    <option value="newest" {% if selected.sort == 'newest' %}selected{% endif %}>Сначала новинки</option>
                    <option value="price_asc" {% if selected.sort == 'price_asc' %}selected{% endif %}>Цена: по возрастанию</option>
                    <option value="price_desc" {% if selected.sort == 'price_desc' %}selected{% endif %}>Цена: по убыванию</option>
                    <option value="popular" {% if selected.sort == 'popular' %}selected{% endif %}>Популярные</option>
                </select>
            </div>
            <div class="active-filters js-active-filters">
                {% include "catalog/partials/active_filters.html" %}
            </div>
        </div>

        <div class="products-grid js-product-grid">
            {% include "catalog/partials/product_cards.html" %}
        </div>

        <div class="pagination js-pagination">
            {% include "catalog/partials/pagination.html" with products_page=products_page base_query=base_query %}
        </div>
    </section>

</div>

<div class="filters-overlay" data-filters-overlay></div>

{# Убран модальный быстрый просмотр #}
{% endblock %}
